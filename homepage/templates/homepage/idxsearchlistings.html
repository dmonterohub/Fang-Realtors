{% load static %}

<!-- SEARCH PROPERTIES FORM --->
<section id="searchlistingsblock">


    <form method="GET" action="{% url 'homepage-searchlistings' %}" class="searchform">
        <div class="form-row">
            <button type="submit" class="btnSubmit">Search</button>

            <div class="form-group col-12">
                <div class="input-group">
                    <input class="txtSubmit" type="search" name="title_contains" placeholder="Search by Address" />
                    <span class="input-group-append">
                        <div class="input-group-text bg-transparent">
                            <i class="fa fa-search"></i>
                        </div>
                    </span>
                </div>
            </div>
        </div>


        <div class="form-row">
            <div class="form-group col-md-2 col-lg-2">
                <label for="viewCountMin">Min $</label>
                <input type="number" min=0 class="form-control" id="minmax" placeholder="0" name="price_min">
            </div>
            <div class="form-group col-md-2 col-lg-2">
                <label for="viewCountMax">Max $</label>
                <input type="number" min=0 class="form-control" id="minmax" placeholder="999,999,999" name="price_max">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-4">
                <select id="category" class="form-control" name="proptype">
                    <option selected>Property Type...</option>

                    <option value="1">Home</option>
                    <option value="2">Townhome</option>
                    <option value="3">Apartment</option>

                </select>
            </div>
            <div class="form-group col-md-4">
                <select id="category" class="form-control" name="numbaths">
                    <option selected value="0">0+ Baths</option>
                    <option value="1">1+ Baths</option>
                    <option value="2">2+ Baths</option>
                    <option value="3">3+ Baths</option>
                    <option value="4">4+ Baths</option>
                    <option value="5">5+ Baths</option>

                </select>
            </div>
            <div class="form-group col-md-4">
                <select id="category" class="form-control" name="numbeds">
                    <option selected value="0">0+ Beds</option>
                    <option value="1">1+ Beds</option>
                    <option value="2">2+ Beds</option>
                    <option value="3">3+ Beds</option>
                    <option value="4">4+ Beds</option>
                    <option value="5">5+ Beds</option>

                </select>
            </div>
        </div>

    </form>

    <style>
        .form-group {
            display: inline-block;
        }

        .form-row {
            display: inline-block;
        }
    </style>

</section>

<!-- END SEARCH PROPERTIES FORM --->



<section id="idxlistings">
    <div class="responsive-three-columns">

        {% for listing in queryset %}

        <div class="three-col-column">
            <div class="property-card">
                <img src="../static/img/{{listing.title}}.png" class="image">
                <div class='tag'>
                    <h2>${{ listing.price|floatformat:"g" }}</h2>
                </div>
                <div class="overlay">
                    <div class="card-content">
                        <h1 class='property-name'>{{ listing.title }}</h1>
                        <h1 class='suburb'>Tampa</h1>
                        <div class='card-icons'>
                            <p><img class="card-icon" src="{% static 'img/bed.png' %}" alt="Fang Realtors Logo" />{{ listing.beds }} bed
                            <p>
                            <p><img class="card-icon" src="{% static 'img/bathtub.png' %}" alt="Fang Realtors Logo" />{{ listing.baths }} bath
                            <p>

                        </div>
                        <p>{{ listing.description|slice:":300" }}... </p>
                        <a class='listing-button' href="{% url 'homepage-listingtemplate' listing.title %}">View Listing</a>

                    </div>
                </div>
            </div>
        </div>

        {% endfor %}

    </div>

</section>